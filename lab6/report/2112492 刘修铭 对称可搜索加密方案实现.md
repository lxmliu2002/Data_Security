# <center>数据安全实验报告</center>

<center>Lab6 对称可搜索加密方案</center>

<center> 网络空间安全学院 信息安全专业</center>

<center> 2112492 刘修铭 1036</center>

## 实验要求






## 实验原理

关键词检索是一种常见的操作，比如数据库全文检索、邮件按关键词检索、在 Windows 系统里查找一个文件等。可搜索加密（Searchable Encryption，简称 SE）则是一种密码原语，它允许数据加密后仍能对密文数据进行关键词检索，允许不可信服务器无需解密就可以完成是否包含某关键词的判断。

可搜索加密可分为 4 个子过程：

* 加密过程：用户使用密钥在本地对明文文件进行加密并将其上传至服务器；
* 陷门生成过程：具备检索能力的用户使用密钥生成待查询关键词的陷门（也可以称为令牌），要求陷门不能泄露关键词的任何信息；
* 检索过程：服务器以关键词陷门为输入，执行检索算法，返回所有包含该陷门对应关键词的密文文件，要求服务器除了能知道密文文件是否包含某个特定关键词外，无法获得更多信息；
* 解密过程：用户使用密钥解密服务器返回的密文文件，获得查询结果。

<img src="./2112492 刘修铭 对称可搜索加密方案实现.pic/image-20240430092557380.png" alt="image-20240430092557380" style="zoom:50%;" />

可搜索加密可以分为对称可搜索加密和非对称可搜索加密，分别基于对称密码和非对称密码来构建：

* 对称可搜索加密 (Symmetric searchable encryption, SSE)：旨在加解密过程中采用相同的密钥之外，陷门生成也需要密钥的参与，通常适用于单用户模型，具有计算开销小、算法简单、速度快的特点。

* 非对称可搜索加密 (Asymmetric searchable encryption, ASE)：旨在加解密过程中采用公钥对明文信息加密和目标密文的检索，私钥用于解密密文信息和生成关键词陷门。非对称可搜索加密算法通常较为复杂，加解密速度较慢，其公私钥相互分离的特点，非常适用于私钥生成待检索关键词陷门，可用于多用户同时进行关键词检索的场景等。

本次实验中，主要关注对称可搜索加密，其流程为：在加密时，用户执行 KeyGen 算法生成对称密钥 K，使用 K 加密明文文件集 D，并将加密结果上传至服务器。检索过程中，用户执行 Trapdoor 算法，生成待查询关键词 W 的陷门 $T_W$ 检索到文件标识符集合 D(W)，并根据 D(W) 中文件标识符提取密文文件以返回用户，用户最终使用 K 解密所有返回文件，得到目标文件。

对称可搜索加密有如下两种实现思路。

1. 正向索引

基本构造思路是：将文件进行分词，提取所存储的关键词后，对每个关键词进行加密处理；在搜索的时候，提交密文关键词或者可以匹配密文关键词的中间项作为陷门，进而得到一个包含待查找的关键词的密文文件。

因为是按照“文档标识 ID：关键词 1, 关键词 2, 关键词 3, …, 关键词 *n*”的方式组织文档与关键词的关系，称这种方式为正向索引（和后面倒排索引进行区分）。

2. 倒排索引

倒排索引，也常被称为反向索引、置入档案或反向档案，是一种索引方法，被用来存储在全文搜索下某个单词在一个文档或者一组文档中的存储位置的映射。它是文档检索系统中最常用的数据结构。通过倒排索引，可以根据单词快速获取包含这个单词的文档列表。如图所示，关键词 $w_1$ 索引了一个列表，列表中存储了所有关联的文档的标识 ID。

<img src="./2112492 刘修铭 对称可搜索加密方案实现.pic/image-20240430093102668.png" alt="image-20240430093102668" style="zoom:50%;" />





## 实验过程（含主要源代码）














## 实验结果及分析



<img src="./2112492 刘修铭 对称可搜索加密方案实现.pic/uOBW40zmG6.jpg" alt="uOBW40zmG6" style="zoom:50%;" />



<img src="./2112492 刘修铭 对称可搜索加密方案实现.pic/image-20240430085041828.png" alt="image-20240430085041828" style="zoom:50%;" />



## 遇到的问题及解决方案






## 参考

本次实验主要参考教材内容完成。